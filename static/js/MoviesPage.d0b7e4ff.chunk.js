"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[410],{2167:function(e,t,n){n.r(t),n.d(t,{default:function(){return w}});var r=n(2982),a=n(5861);function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var i=n(885),s=n(7757),f=n.n(s),p=n(1523),l=n(9271),h=n(2791),v=n(5984),b="Form_input__Is0Ub",d="Form_button__iE4Vh",m=n(184),y=function(e){var t=e.onSubmit,n=(0,h.useState)(""),r=(0,i.Z)(n,2),a=r[0],c=r[1],u=function(){return c("")};return(0,m.jsx)(m.Fragment,{children:(0,m.jsxs)("form",{onSubmit:function(e){e.preventDefault(),t(a),u()},children:[(0,m.jsx)("input",{type:"text",name:"name",value:a,onChange:function(e){e.preventDefault();var t=e.currentTarget.value;c(t)},className:b}),(0,m.jsx)("button",{type:"submit",className:d,children:"Search movies"})]})})},g=n(9545),x=(0,h.lazy)((function(){return Promise.all([n.e(15),n.e(716),n.e(971)]).then(n.bind(n,474))})),w=function(){var e=(0,h.useState)(""),t=(0,i.Z)(e,2),n=t[0],c=t[1],u=(0,h.useState)(null),s=(0,i.Z)(u,2),b=s[0],d=s[1],w=(0,l.$B)(),j=w.url,k=w.path,_=(0,l.TH)();console.log("~ ~ MoviesPage ~ location",_);var O=(0,l.k6)();return(0,h.useEffect)((function(){(0,a.Z)(f().mark((function e(){var t,a;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n.length>0)){e.next=12;break}return e.prev=1,e.next=4,g.V0(n);case 4:t=e.sent,a=t.results,d((0,r.Z)(a)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})))()}),[n]),(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(y,{onSubmit:function(e){c(e),O.push(o(o({},_),{},{search:"qwery=".concat(e)}))}}),b&&(0,m.jsx)("ul",{children:b.map((function(e){return(0,m.jsx)("li",{children:(0,m.jsx)(p.rU,{to:{pathname:"".concat(j,"/").concat(e.id),state:{from:_},search:"?qwery=".concat(n)},children:e.name?e.name:e.title})},(0,v.x0)())}))}),(0,m.jsx)("hr",{}),(0,m.jsx)(h.Suspense,{fallback:(0,m.jsx)("h1",{children:"Loading..."}),children:(0,m.jsx)(l.AW,{path:"".concat(k,"/:movieId"),children:b&&(0,m.jsx)(x,{})})})]})}},9545:function(e,t,n){n.d(t,{Df:function(){return v},S3:function(){return m},V0:function(){return y},lg:function(){return d},yK:function(){return b}});var r=n(5861),a=n(7757),c=n.n(a),u=n(4569),o=n.n(u);o().defaults.baseURL="https://api.themoviedb.org/3";var i="99164fc3e2a8208f1f5e9fb36b0f2eb5",s="trending/all/day",f="search/movie",p="movie/",l="/reviews",h="/credits",v=function(){var e=(0,r.Z)(c().mark((function e(){var t,n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o().get("/".concat(s,"?api_key=").concat(i));case 2:return t=e.sent,n=t.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),b=function(){var e=(0,r.Z)(c().mark((function e(t){var n,r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o().get("/".concat(p).concat(t,"?api_key=").concat(i,"&language=en-US"));case 2:return n=e.sent,r=n.data,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),d=function(){var e=(0,r.Z)(c().mark((function e(t){var n,r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o().get("/".concat(p).concat(t).concat(l,"?api_key=").concat(i,"&language=en-US"));case 2:return n=e.sent,r=n.data,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),m=function(){var e=(0,r.Z)(c().mark((function e(t){var n,r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o().get("/".concat(p).concat(t).concat(h,"?api_key=").concat(i,"&language=en-US"));case 2:return n=e.sent,r=n.data,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),y=function(){var e=(0,r.Z)(c().mark((function e(t){var n,r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o().get("/".concat(f,"?api_key=").concat(i,"&query=").concat(t,"&language=en-US&page=1&include_adult=false"));case 2:return n=e.sent,r=n.data,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},2982:function(e,t,n){n.d(t,{Z:function(){return c}});var r=n(907);var a=n(181);function c(e){return function(e){if(Array.isArray(e))return(0,r.Z)(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||(0,a.Z)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}}}]);
//# sourceMappingURL=MoviesPage.d0b7e4ff.chunk.js.map