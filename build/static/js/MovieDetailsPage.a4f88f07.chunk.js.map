{"version":3,"file":"static/js/MovieDetailsPage.a4f88f07.chunk.js","mappings":"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","sources":["webpack://goit-react-hw-05-movies/./src/components/OneMovie/OneMovie.module.css?8914","components/OneMovie/OneMovie.jsx","Pages/MovieDetailsPage.jsx","servises/api.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"container\":\"OneMovie_container__3uvph\",\"img__wrapper\":\"OneMovie_img__wrapper__ZmhXy\",\"img\":\"OneMovie_img__50LYB\",\"description__wrapper\":\"OneMovie_description__wrapper__rauoo\",\"description__list\":\"OneMovie_description__list__LWjZJ\",\"title\":\"OneMovie_title__5Bijs\",\"titleMovie\":\"OneMovie_titleMovie__SEfwz\",\"overview\":\"OneMovie_overview__bkSvM\",\"nav\":\"OneMovie_nav__dGYsM\",\"current\":\"OneMovie_current__kzV2N\",\"active\":\"OneMovie_active__bJiuv\"};","import { useRouteMatch, NavLink } from 'react-router-dom';\r\nimport PropTypes from 'prop-types';\r\nimport s from './OneMovie.module.css';\r\nimport { nanoid } from 'nanoid';\r\n\r\nconst OneMovie = ({ movie, onClickBack }) => {\r\n  const { url } = useRouteMatch();\r\n  const {\r\n    release_date,\r\n    first_air_date,\r\n    poster_path,\r\n    title,\r\n    name,\r\n    vote_count,\r\n    overview,\r\n    genres,\r\n  } = movie;\r\n  const date = new Date(release_date ? release_date : first_air_date);\r\n  const year = date.getFullYear();\r\n  const poster = poster_path\r\n    ? `https://image.tmdb.org/t/p/w500${poster_path}`\r\n    : 'https://nuft.edu.ua/assets/images/people/no-image.jpg';\r\n  const titleMovie = title ? title : name;\r\n\r\n  return (\r\n    <>\r\n      <button type=\"button\" onClick={onClickBack}>\r\n        Go back\r\n      </button>\r\n      <div className={s.container}>\r\n        <div className={s.img__wrapper}>\r\n          <img src={poster} alt={titleMovie} className={s.img} />\r\n        </div>\r\n        <div className={s.description__wrapper}>\r\n          <ul className={s.description__list}>\r\n            <li className={s.title}>\r\n              <p className={s.titleMovie}>{titleMovie}</p>\r\n              <p>{year}</p>\r\n            </li>\r\n            <li>\r\n              <p className={s.titleMovie}>Vote count</p>\r\n              <p>{vote_count}</p>\r\n            </li>\r\n            <li>\r\n              <p className={s.titleMovie}>Overview</p>\r\n              <p className={s.overview}>{overview}</p>\r\n            </li>\r\n            <li>\r\n              <p className={s.titleMovie}>Genres</p>\r\n              <p>\r\n                {genres.map(genre => {\r\n                  return <span key={nanoid()}>{genre?.name}</span>;\r\n                })}\r\n              </p>\r\n            </li>\r\n          </ul>\r\n        </div>\r\n      </div>\r\n      <hr />\r\n      <p className={s.titleMovie}> Additional information</p>\r\n      <nav className={s.nav}>\r\n        <NavLink\r\n          exact\r\n          to={{ pathname: `${url}/cast` }}\r\n          className={s.current}\r\n          activeClassName={s.active}\r\n        >\r\n          Cast\r\n        </NavLink>\r\n        <NavLink\r\n          to={{ pathname: `${url}/reviews` }}\r\n          className={s.current}\r\n          activeClassName={s.active}\r\n        >\r\n          Reviews\r\n        </NavLink>\r\n      </nav>\r\n      <hr />\r\n    </>\r\n  );\r\n};\r\nOneMovie.propTypes = {\r\n  movie: PropTypes.object.isRequired,\r\n  onClickBack: PropTypes.func.isRequired,\r\n};\r\nexport default OneMovie;\r\n","import { useEffect, useState, lazy, Suspense } from 'react';\r\nimport { useParams, useLocation, useHistory, Route } from 'react-router-dom';\r\nimport { ToastContainer, toast } from 'react-toastify';\r\nimport { injectStyle } from 'react-toastify/dist/inject-style';\r\nimport * as movieAPI from 'servises/api';\r\nimport OneMovie from 'components/OneMovie/OneMovie';\r\nimport Loader from 'components/Loader/Loader';\r\n// import CastPage from 'Pages/CastPage';\r\n// import ReviewsPage from 'Pages/ReviewsPage';\r\n\r\nconst CastPage = lazy(() =>\r\n  import('Pages/CastPage' /* webpackChunkName: \"CastPage\" */)\r\n);\r\nconst ReviewsPage = lazy(() =>\r\n  import('Pages/ReviewsPage' /* webpackChunkName: \"ReviewsPage\" */)\r\n);\r\n\r\nconst MovieDetailsPage = () => {\r\n  const { movieId } = useParams();\r\n  const location = useLocation();\r\n  console.log('~ ~ MovieDetailsPage ~ location', location);\r\n\r\n  const params = useParams();\r\n  console.log('~ ~ OneMovie ~ params', params);\r\n\r\n  if (typeof window !== 'undefined') {\r\n    injectStyle();\r\n  }\r\n  const notify = () =>\r\n    toast.error('The resource you requested could not be found.');\r\n\r\n  const [movie, setMovie] = useState(null);\r\n  const [error, setError] = useState(null);\r\n\r\n  useEffect(() => {\r\n    (async () => {\r\n      if (movieId) {\r\n        try {\r\n          const results = await movieAPI.getMovieId(movieId);\r\n\r\n          setMovie(results);\r\n        } catch (errorNew) {\r\n          setError(errorNew);\r\n          console.log(errorNew);\r\n          notify();\r\n        }\r\n      }\r\n    })();\r\n  }, [movieId]);\r\n\r\n  const history = useHistory();\r\n  console.log('~ ~ OneMovie ~ history', history);\r\n\r\n  const handleClickBack = () => {\r\n    history.push(location?.state?.from ?? '/');\r\n  };\r\n  return (\r\n    <>\r\n      {movie && (\r\n        <>\r\n          <OneMovie onClickBack={handleClickBack} movie={movie} />\r\n          <Suspense fallback={<Loader />}>\r\n            <Route path=\"/movies/:movieId/cast\">\r\n              <CastPage />\r\n            </Route>\r\n            <Route path=\"/movies/:movieId/reviews\">\r\n              <ReviewsPage />\r\n            </Route>\r\n          </Suspense>\r\n        </>\r\n      )}\r\n      {error && (\r\n        <ToastContainer\r\n          position=\"top-right\"\r\n          autoClose={3000}\r\n          hideProgressBar={false}\r\n          newestOnTop={false}\r\n          closeOnClick\r\n          rtl={false}\r\n          pauseOnFocusLoss\r\n          draggable\r\n          pauseOnHover\r\n        />\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default MovieDetailsPage;\r\n","import axios from 'axios';\r\n// http://api.themoviedb.org/3/movie/550?api_key=99164fc3e2a8208f1f5e9fb36b0f2eb5\r\n\r\n// Запрос популярных фильмов\r\n// https://api.themoviedb.org/3/trending/all/day?api_key=99164fc3e2a8208f1f5e9fb36b0f2eb5\r\n\r\n// Поиск\r\n// https://api.themoviedb.org/3/search/movie?api_key=<<api_key>>&language=en-US&page=1&include_adult=false\r\n\r\n// Пример запроса по постеру\r\n// https://image.tmdb.org/t/p/w300/dZDelM1eeEMxiBJKW9okzTZPTGn.jpg\r\n\r\n// Запрос по ID\r\n// https://api.themoviedb.org/3/movie/{movie_id}?api_key=<<api_key>>&language=en-US\r\n\r\n// Запрос по ревью фильма\r\n// https://api.themoviedb.org/3/movie/{movie_id}/reviews?api_key=<<api_key>>&language=en-US&page=1\r\n\r\n// Запрос об актёрах\r\n// https://api.themoviedb.org/3/movie/{movie_id}/credits?api_key=<<api_key>>&language=en-US\r\n\r\naxios.defaults.baseURL = 'https://api.themoviedb.org/3';\r\nconst API_KEY = '99164fc3e2a8208f1f5e9fb36b0f2eb5';\r\nconst PARAM = {\r\n  trending: 'trending/all/day',\r\n  search: 'search/movie',\r\n  movieID: 'movie/',\r\n  reviews: '/reviews',\r\n  credits: '/credits',\r\n};\r\nconst getTrendingMovies = async () => {\r\n  const { data } = await axios.get(`/${PARAM.trending}?api_key=${API_KEY}`);\r\n  return data;\r\n};\r\nconst getMovieId = async id => {\r\n  const { data } = await axios.get(\r\n    `/${PARAM.movieID}${id}?api_key=${API_KEY}&language=en-US`\r\n  );\r\n  return data;\r\n};\r\nconst getMovieIdReviews = async id => {\r\n  const { data } = await axios.get(\r\n    `/${PARAM.movieID}${id}${PARAM.reviews}?api_key=${API_KEY}&language=en-US`\r\n  );\r\n  return data;\r\n};\r\nconst getMovieIdCredits = async id => {\r\n  const { data } = await axios.get(\r\n    `/${PARAM.movieID}${id}${PARAM.credits}?api_key=${API_KEY}&language=en-US`\r\n  );\r\n  return data;\r\n};\r\nconst getSearchMovies = async query => {\r\n  const { data } = await axios.get(\r\n    `/${PARAM.search}?api_key=${API_KEY}&query=${query}&language=en-US&page=1&include_adult=false`\r\n  );\r\n  return data;\r\n};\r\nexport {\r\n  getTrendingMovies,\r\n  getMovieId,\r\n  getMovieIdReviews,\r\n  getMovieIdCredits,\r\n  getSearchMovies,\r\n};\r\n"],"names":["movie","onClickBack","url","useRouteMatch","release_date","first_air_date","poster_path","title","name","vote_count","overview","genres","year","Date","getFullYear","poster","titleMovie","type","onClick","className","s","src","alt","map","genre","nanoid","exact","to","pathname","activeClassName","CastPage","lazy","ReviewsPage","movieId","useParams","location","useLocation","console","log","params","window","injectStyle","useState","setMovie","error","setError","useEffect","movieAPI","results","toast","history","useHistory","push","state","from","Suspense","fallback","Loader","path","position","autoClose","hideProgressBar","newestOnTop","closeOnClick","rtl","pauseOnFocusLoss","draggable","pauseOnHover","axios","API_KEY","PARAM","getTrendingMovies","data","getMovieId","id","getMovieIdReviews","getMovieIdCredits","getSearchMovies","query"],"sourceRoot":""}